<div class="tx-clubdata-carousel">
    <f:asset.css identifier="bootstrap-carousel-minimal-css" href="EXT:clubdata/Resources/Public/Css/bootstrap-carousel-minimal.css" />
    <f:asset.script identifier="bootstrap5-js" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" />
    <f:asset.css identifier="carousel-peek-css" href="EXT:clubdata/Resources/Public/Css/carousel-peek.css" />
    <f:asset.script identifier="carousel-peek-js" src="EXT:clubdata/Resources/Public/Js/carousel-peek.js" />

    <!-- Bootstrap 5 Carousel with Peek Effect -->
    <div class="carousel-peek-container">
        <div id="clubdataCarousel" class="carousel slide carousel-peek" data-bs-ride="{f:if(condition: settings.carousel.slider.autoPlay, then: 'carousel', else: 'false')}" data-bs-interval="{f:if(condition: settings.carousel.slider.autoPlay, then: '5000', else: 'false')}">
        
        <f:if condition="{f:count(subject: programs)} > 1">
            <f:if condition="{settings.carousel.slider.bullets}">
                <!-- Carousel Indicators -->
                <div class="carousel-indicators">
                    <f:for each="{programs}" as="program" iteration="iterator">
                        <button type="button" 
                                data-bs-target="#clubdataCarousel" 
                                data-bs-slide-to="{iterator.index}"
                                class="{f:if(condition: iterator.isFirst, then: 'active')}"
                                aria-current="{f:if(condition: iterator.isFirst, then: 'true', else: 'false')}"
                                aria-label="Slide {iterator.cycle}"></button>
                    </f:for>
                </div>
            </f:if>
        </f:if>

        <!-- Carousel Inner -->
        <div class="carousel-inner">
            <f:for each="{programs}" as="program" iteration="iterator">
                <f:render partial="Club/CarouselItemBootstrap" arguments="{
                    program:program,
                    settings:settings,
                    iterator:iterator
                }" />
            </f:for>
        </div>

        <f:if condition="{f:count(subject: programs)} > 1">
            <f:if condition="{settings.carousel.slider.arrows}">
                <!-- Carousel Controls -->
                <button class="carousel-control-prev" type="button" data-bs-target="#clubdataCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#clubdataCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </f:if>
        </f:if>
        </div>
    </div>
</div>
